{"version":3,"sources":["../src/leaflet_choropleth_ctrl.js"],"names":["PanelCtrl","moment","_","$","panelDefaults","polygonsHotColor","polygonsColdColor","polygonsEndpoint","LeafletChoroplethCtrl","$scope","$injector","defaultsDeep","panel","events","on","onInitEditMode","bind","updateMap","time","format","$timeout","addEditorTab","dataList","err","onDataReceived","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,e,kBAAAA,S;;AACDC,Y;;AACAC,O;;AACAC,O;;;;;;;;;;;;;;;;;;;;;AAEDC,mB,GAAgB;AACpBC,0BAAkB,gBADE;AAEpBC,2BAAmB,gBAFC;AAGpBC,0BAAmB;AAHC,O;;uCAMTC,qB;;;AACX,uCAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,oJACvBD,MADuB,EACfC,SADe;;AAE7BR,YAAES,YAAF,CAAe,MAAKC,KAApB,EAA2BR,aAA3B;AACA,gBAAKS,MAAL,CAAYC,EAAZ,CAAe,gBAAf,EAAiC,MAAKC,cAAL,CAAoBC,IAApB,OAAjC;AACA;AACA;AACA;AACA,gBAAKC,SAAL;AAP6B;AAQ9B;;;;sCAEW;AAAA;;AACV,iBAAKC,IAAL,GAAYjB,SAASkB,MAAT,CAAgB,UAAhB,CAAZ;AACA,iBAAKC,QAAL,CAAc,YAAM;AAAE,qBAAKH,SAAL;AAAmB,aAAzC,EAA2C,IAA3C;AACD;;;2CAEgB;AACf,iBAAKI,YAAL,CAAkB,iBAAlB,EAAqC,qDAArC,EAA4F,CAA5F;AACD;;;yCAEcC,Q,EAAU,CACxB;;;sCAEWC,G,EAAK;AACf,iBAAKC,cAAL,CAAoB,EAApB;AACD;;;;QAzBwCxB,S;;;;AA4B3CQ,4BAAsBiB,WAAtB,GAAoC,aAApC","file":"leaflet_choropleth_ctrl.js","sourcesContent":["import {PanelCtrl} from 'app/plugins/sdk';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport $ from 'jquery';\n\nconst panelDefaults = {\n  polygonsHotColor: \"rgb(255, 0, 0)\",\n  polygonsColdColor: \"rgb(0, 0, 255)\",\n  polygonsEndpoint:  null,\n};\n\nexport class LeafletChoroplethCtrl extends PanelCtrl {\n  constructor($scope, $injector) {\n    super($scope, $injector);\n    _.defaultsDeep(this.panel, panelDefaults);\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    // this.events.on('data-received', this.onDataReceived.bind(this));\n    // this.events.on('data-error', this.onDataError.bind(this));\n    // this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n    this.updateMap();\n  }\n\n  updateMap() {\n    this.time = moment().format('hh:mm:ss');\n    this.$timeout(() => { this.updateMap(); }, 1000);\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Polygon Options', 'public/plugins/leaflet-choropleth-panel/editor.html', 2);\n  }\n\n  onDataReceived(dataList) {\n  }\n\n  onDataError(err) {\n    this.onDataReceived([]);\n  }\n}\n\nLeafletChoroplethCtrl.templateUrl = 'module.html';"]}