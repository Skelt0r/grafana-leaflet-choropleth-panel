{"version":3,"sources":["../src/map_renderer.js"],"names":["link","scope","elem","attrs","ctrl","events","on","render","renderingCompleted","mapContainer","find","id","indexOf","map","ChoroplethMap","resize","drawPolygons"],"mappings":";;;;;;AAGe,WAASA,IAAT,CAAcC,KAAd,EAAqBC,IAArB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwC;AACrDA,SAAKC,MAAL,CAAYC,EAAZ,CAAe,QAAf,EAAyB,YAAM;AAC7BC;AACAH,WAAKI,kBAAL;AACD,KAHD;;AAKA,aAASD,MAAT,GAAkB;AAChB,UAAME,eAAeP,KAAKQ,IAAL,CAAU,eAAV,CAArB;;AAEA,UAAID,aAAa,CAAb,EAAgBE,EAAhB,CAAmBC,OAAnB,CAA2B,IAA3B,IAAmC,CAAC,CAAxC,EAA2C;AACzC;AACD;;AAED,UAAI,CAACR,KAAKS,GAAV,EAAe;AACbT,aAAKS,GAAL,GAAW,IAAIC,aAAJ,CAAkBV,IAAlB,EAAwBK,aAAa,CAAb,CAAxB,CAAX;AACD;AACDL,WAAKS,GAAL,CAASE,MAAT;AACAX,WAAKS,GAAL,CAASG,YAAT;AACD;AACF;;qBAnBuBhB,I;;;;AAFjBc,mB","file":"map_renderer.js","sourcesContent":["import './external/leaflet/dist/leaflet.css!';\nimport ChoroplethMap from './map';\n\nexport default function link(scope, elem, attrs, ctrl) {\n  ctrl.events.on('render', () => {\n    render();\n    ctrl.renderingCompleted();\n  });\n\n  function render() {\n    const mapContainer = elem.find('.mapcontainer');\n\n    if (mapContainer[0].id.indexOf('{{') > -1) {\n      return;\n    }\n\n    if (!ctrl.map) {\n      ctrl.map = new ChoroplethMap(ctrl, mapContainer[0]);\n    }\n    ctrl.map.resize();\n    ctrl.map.drawPolygons();\n  }\n}\n"]}